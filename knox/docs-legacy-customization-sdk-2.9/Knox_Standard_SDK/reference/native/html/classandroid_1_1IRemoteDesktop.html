<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>android::IRemoteDesktop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head><div id="headerLeft">
<body>
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<table cellspacing="0" cellpadding="0" height="68">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td id="projectlogo"><a href="http://www.samsung.com"><img width="80" height="48" alt="Logo" src="samsung.jpg"></a></td>
  
  
  
  <td style="padding-left: 0.5em;"> <div id="projectname">Mobile Device Management </div> </td>
  
  
  
  <td style="padding-left: 0.5em;"> &#160;<div id="projectbrief">Native SDK</div> </td>
  
  
  
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceandroid.html">android</a>      </li>
      <li class="navelem"><a class="el" href="classandroid_1_1IRemoteDesktop.html">IRemoteDesktop</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">android::IRemoteDesktop Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="android::IRemoteDesktop" -->
<p>Remote Desktop Module provides means by which the admin capture the device screen content.  
 <a href="classandroid_1_1IRemoteDesktop.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RemoteDesktop_8h_source.html">RemoteDesktop.h</a>&gt;</code></p>

<p><a href="classandroid_1_1IRemoteDesktop-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e">init</a> ()=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to initialize remote desktop session.  <a href="#a5792cf8c7fa9eeb8e21f39927d0fed1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#ad3727f82980e02999270c033e816b154">getScreenInfo</a> (int *width, int *height, int *bytesPerPixel, int *pixelFormat)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get Frame Buffer's Resolution/PixelFormat information.  <a href="#ad3727f82980e02999270c033e816b154"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb">getFrameBufInfo</a> (int *fd, <a class="el" href="namespaceandroid.html#a40f45e8c93a87251c417d8cefdd60fe2">FDType</a> *fdType)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get Frame Buffer Information.  <a href="#a684fcd14561744487bbc0b74a1e11ddb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955">setListener</a> (<a class="el" href="classandroid_1_1IRemoteDesktopListener.html">IRemoteDesktopListener</a> *listener)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to register Screen Event listener.  <a href="#a65c43b7be3fa4210a7e0176a0d928955"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568">captureScreen</a> (<a class="el" href="classandroid_1_1DirtyRegion.html">DirtyRegion</a> &amp;region)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to capture the screen.  <a href="#af777e36a552194cf99e603351259b568"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#a82aa8e2b0f330e519ea9a03f8cf56831">getScreenPixelFormatInfo</a> (<a class="el" href="structandroid_1_1PixelFormatDetail.html">PixelFormatDetail</a> &amp;formatDetail)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get screen pixel format information.  <a href="#a82aa8e2b0f330e519ea9a03f8cf56831"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#ac0026eaa9da3215bfc418fbaa891ec0b">setScreenInfo</a> (int prefW, int prefH, int prefFormat)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to set the framebuffer's width, height and format preferred by the admin.  <a href="#ac0026eaa9da3215bfc418fbaa891ec0b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#a8c66b98b6756dcfe5e8899eda2fe3887">getDefaultScreenInfo</a> (int *hwWidth, int *hwHeight, int *hwBytesPerPixel, int *hwPixelFormat)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get the default screen information.  <a href="#a8c66b98b6756dcfe5e8899eda2fe3887"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classandroid_1_1IRemoteDesktop.html">IRemoteDesktop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca">getInstance</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an instance of a RemoteDesktop client.  <a href="#a4686215ee98981d640bbc5ec100e42ca"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Remote Desktop Module provides means by which the admin capture the device screen content. </p>
<p>It provides the following features for EDM client<br/>
</p>
<ul>
<li>Access to screen content through shared memory from Surface Flinger. <br/>
 (Note: Surface Flinger is android's composition engine that composes the UI content and updates to the display<br/>
</li>
<li>or Access to screen content through Read-only access to the framebuffer device.<br/>
</li>
<li>Screen Changed Notifications<br/>
 ( This prevents the EDM client from having to poll the screen content continuously to check for changes. The notifications shall be received for both approaches fb0 and surface flinger.)<br/>
</li>
<li>Dirty Region feedback after capture<br/>
 </li>
</ul>
<p>The decision to use framebuffer device (fb0) or Surface Flinger mechanism is made based on the following aspects<br/>
</p>
<ul>
<li>Availability of the approach <br/>
 (Eg: - Only Surface Flinger approach works in some devices as the frame buffer device is not accessible/available),<br/>
</li>
<li>Frame rate yielded by individual approach and <br/>
</li>
<li>Accuracy of the screen content <br/>
 (Eg: - FB0 misses some overlay content. Lets say, Wallpaper is present in one layer, Status Bar present in one layer, remaining UIs present in another layer). <br/>
 Note: This decision is done for every device at build time.<br/>
 </li>
</ul>
<p>The EDM client can register a listener to receive notifications when the screen changes. On occurrence of screen change, the Remote Desktop module sends a screenChanged callback and waits for the capture request from the client. (Note: Subsequent screen changes are detected, but they are not notified to the client until the capture request for the outstanding callback is received.)<br/>
 <br/>
 In case of Remote Desktop session<br/>
 &#160;&#160;1) If Remote Desktop Session is started at owner space<br/>
 &#160;&#160;&#160;&#160;&#160;&#160;a) It can capture owner space screens<br/>
 &#160;&#160;&#160;&#160;&#160;&#160;b) It can capture Android guest user's screens<br/>
</p>
<p>&#160;&#160;2) If Remote Desktop Session is started at Android guest user<br/>
 &#160;&#160;&#160;&#160;&#160;&#160;a) It can't capture owner space screens<br/>
 &#160;&#160;&#160;&#160;&#160;&#160;b) It can capture its own user space screens<br/>
</p>
<p>Events injected by Remote Injection are not injected into user space where Remote Desktop is disabled. <br/>
 </p>
<dl class="user"><dt><b>PolicyGroupID: </b></dt><dd>Remote Control </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 2.1 </dd></dl>
<dl class="user"><dt><b>Permission: </b></dt><dd>This policy requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature. </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af777e36a552194cf99e603351259b568"></a><!-- doxytag: member="android::IRemoteDesktop::captureScreen" ref="af777e36a552194cf99e603351259b568" args="(DirtyRegion &amp;region)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568">android::IRemoteDesktop::captureScreen</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classandroid_1_1DirtyRegion.html">DirtyRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>region</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to capture the screen. </p>
<p>Admin can use this API to capture the screen. Remote Desktop module returns the changed region or dirty region in response to this request. (This API updates the screen contents to shared memory if fdType == FD_SHARED_MEM.)<br/>
 [NOTE] It is recommended to follow the following sequence:<br/>
 Step 1 : Call <a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">IRemoteDesktop::getInstance()</a> to get an instance of <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a><br/>
 Step 2 : Call <a class="el" href="classandroid_1_1IRemoteDesktop.html#ac0026eaa9da3215bfc418fbaa891ec0b" title="API to set the framebuffer&#39;s width, height and format preferred by the admin.">IRemoteDesktop::setScreenInfo</a> (prefW, prefH, prefFormat) to set the desired screen width,height and pixel format<br/>
 Step 3 : Call <a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">IRemoteDesktop::init()</a><br/>
 Step 4 : Call <a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">IRemoteDesktop::getFrameBufInfo()</a> to get file descriptor and type of it<br/>
 Step 5 : Call mmap() to map file descriptor to memory<br/>
 Step 6 : Set screen update listener<br/>
 Step 7 : Call <a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">IRemoteDesktop::captureScreen()</a> to get dirty regions after screenChanged() callback is called<br/>
 </p>
<p>Example client call:</p>
<pre>
 class RemoteDesktopListener : public <a class="el" href="classandroid_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> {
 	 RemoteDesktopListener() {}
 	 virtual void screenChanged() {
 		 LOGI("RemoteDesktopListener :: screenChanged()");
		   	 // Capture Screen Request code
			 <a class="el" href="classandroid_1_1DirtyRegion.html" title="This class provides the Dirty Region Information.">DirtyRegion</a> dirtyRegion;
			 bool err = mRemoteDesktop-&gt;captureScreen(dirtyRegion);
			 if(err == false)  {
				 // failure code
			} else {
				 // success code
			}
		  }
	   }
	 ....</pre><pre>	 <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
	 int w = 360, h = 640, format = PF_RGBA_8888;
	 int	  mFD;
	 FDType   mFDType;
	 bool ret;</pre><pre>	 ret = remoteDesktop-&gt;setScreenInfo(w,h,format);
	 if(ret == false){
		 // failure code
	 }</pre><pre>	 ret = remoteDesktop-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
	 if(ret == false){
		 // failure code
	 }</pre><pre>	 ret = remoteDesktop-&gt;getFrameBufInfo(&amp;mFD, &amp;mFDType);
	 if(ret == false){
		 // failure code
	 }</pre><pre>	 if (mFDType == FD_DEV_FB0) {
		 struct fb_var_screeninfo vinfo; 
		 if(ioctl(mFD, FBIOGET_VSCREENINFO, &amp;vinfo) &lt; 0) return false;
		 int offset = vinfo.xoffset * mBytesPerPixel + vinfo.xres * vinfo.yoffset * mBytesPerPixel;
		 mFrame = (unsigned short *) mmap(0, mFrameBufferSize, PROT_READ, MAP_PRIVATE, mFD, offset);
	 } else if (mFDType == FD_SHARED_MEM) {
		 mFrame = (unsigned short *) mmap(0, mFrameBufferSize, PROT_READ, MAP_SHARED, mFD, 0);
	 } else {
		 LOGE("mapFrameBuffer Failed");
		 return false;
	 }</pre><pre>	 <a class="el" href="classandroid_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> *remoteDesktoplistener = new RemoteDesktopListener();
	 remoteDesktop-&gt;setListener(remoteDesktoplistener);
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">region</td><td>Dirty Region Information </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if captured successfully, else false. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 2.1 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#ad3727f82980e02999270c033e816b154" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd></dl>
<dl class="user"><dt><b>PolicyID: </b></dt><dd>RCT-0008:RemoteControl Policy </dd></dl>

</div>
</div>
<a class="anchor" id="a8c66b98b6756dcfe5e8899eda2fe3887"></a><!-- doxytag: member="android::IRemoteDesktop::getDefaultScreenInfo" ref="a8c66b98b6756dcfe5e8899eda2fe3887" args="(int *hwWidth, int *hwHeight, int *hwBytesPerPixel, int *hwPixelFormat)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classandroid_1_1IRemoteDesktop.html#a8c66b98b6756dcfe5e8899eda2fe3887">android::IRemoteDesktop::getDefaultScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwBytesPerPixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwPixelFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get the default screen information. </p>
<p>Admin can use this API to get the default hardware screen dimensions, pixel formats and pixel byte size. This new API is introduced as getScreenInfo need not return the default screen information as it returns the selected framebuffer information based on the preferences set by the admin<br/>
 [NOTE] It is recommended to set one of pixel format 'PF_RGB_565, PF_BGRA_8888, PF_RGBA_8888' manually</p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code	 
     int	hwwidth, hwheight, hwpixelFormat, hwbytesPerPixel;	
     remotedesktop-&gt;getDefaultScreenInfo(&amp;hwwidth, &amp;hwheight, &amp;hwbytesPerPixel, &amp;hwpixelFormat);
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hwWidth</td><td>Hardware Screen Width </td></tr>
    <tr><td class="paramname">hwHeight</td><td>Hardware Screen Height </td></tr>
    <tr><td class="paramname">hwBytesPerPixel</td><td>Hardware Pixel Size in Bytes </td></tr>
    <tr><td class="paramname">hwPixelFormat</td><td>Hardware Pixel Format. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 4.0 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>
<dl class="user"><dt><b>PolicyID: </b></dt><dd>RCT-0005:RemoteControl Policy </dd></dl>

</div>
</div>
<a class="anchor" id="a684fcd14561744487bbc0b74a1e11ddb"></a><!-- doxytag: member="android::IRemoteDesktop::getFrameBufInfo" ref="a684fcd14561744487bbc0b74a1e11ddb" args="(int *fd, FDType *fdType)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb">android::IRemoteDesktop::getFrameBufInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceandroid.html#a40f45e8c93a87251c417d8cefdd60fe2">FDType</a> *&#160;</td>
          <td class="paramname"><em>fdType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get Frame Buffer Information. </p>
<p>Admin can use this API to get File Descriptor to framebuffer device or Shared memory. </p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code	 
     int	     mFD;
     FDType 	 mFDType;
     bool err = mRemoteDesktop-&gt;getFrameBufInfo(&amp;mFD, &amp;mFDType);
     if(err == false)  {
         // failure code
     } else {
         // success code	 
     }
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File Descriptor </td></tr>
    <tr><td class="paramname">fdType</td><td>File Descriptor Type (Shared Memory or Frame Buffer) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if frame buffer information successfully retrieved, else false. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 2.1 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#ad3727f82980e02999270c033e816b154" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>
<dl class="user"><dt><b>PolicyID: </b></dt><dd>RCT-0006:RemoteControl Policy </dd></dl>

</div>
</div>
<a class="anchor" id="a4686215ee98981d640bbc5ec100e42ca"></a><!-- doxytag: member="android::IRemoteDesktop::getInstance" ref="a4686215ee98981d640bbc5ec100e42ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classandroid_1_1IRemoteDesktop.html">IRemoteDesktop</a>* <a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca">android::IRemoteDesktop::getInstance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns an instance of a RemoteDesktop client. </p>
<p>Admin can use this API to initialize the remote desktop session establishing the connection to the underneath capture mechanism. </p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *mRD = RemoteDesktop::getInstance();
  bool ret = mRD-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  { // failure due to either permission 
                      // denied or other initialization failures
     // failure code
  } else {
     // success code
  }
 </pre> <dl class="return"><dt><b>Returns:</b></dt><dd>A remote destop instance if successfull, else null. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 2.1 </dd></dl>

</div>
</div>
<a class="anchor" id="ad3727f82980e02999270c033e816b154"></a><!-- doxytag: member="android::IRemoteDesktop::getScreenInfo" ref="ad3727f82980e02999270c033e816b154" args="(int *width, int *height, int *bytesPerPixel, int *pixelFormat)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classandroid_1_1IRemoteDesktop.html#ad3727f82980e02999270c033e816b154">android::IRemoteDesktop::getScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bytesPerPixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pixelFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get Frame Buffer's Resolution/PixelFormat information. </p>
<p>Admin can use this API to get the framebuffer dimensions, pixel formats and pixel byte size.</p>
<p>Note: PixelFormat returned by this API is not reliable. It will not give accurate information on the exact position details of each pixel. Also for FB0 FDType, the pixel format may also be returned as PF_UNKNOWN. It is receommended that client always rely on the API <a class="el" href="classandroid_1_1IRemoteDesktop.html#a82aa8e2b0f330e519ea9a03f8cf56831" title="API to get screen pixel format information.">getScreenPixelFormatInfo()</a>.</p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code	 
     int	width, height, pixelFormat, bytesPerPixel;	 
     remoteDesktop-&gt;getScreenInfo(&amp;width, &amp;height, &amp;bytesPerPixel, &amp;pixelFormat);
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>Screen Width </td></tr>
    <tr><td class="paramname">height</td><td>Screen Height </td></tr>
    <tr><td class="paramname">bytesPerPixel</td><td>Pixel Size in Bytes </td></tr>
    <tr><td class="paramname">pixelFormat</td><td>Pixel Format. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if screen information successfully retrieved, else false. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 2.1 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>
<dl class="user"><dt><b>PolicyID: </b></dt><dd>RCT-0005:RemoteControl Policy </dd></dl>

</div>
</div>
<a class="anchor" id="a82aa8e2b0f330e519ea9a03f8cf56831"></a><!-- doxytag: member="android::IRemoteDesktop::getScreenPixelFormatInfo" ref="a82aa8e2b0f330e519ea9a03f8cf56831" args="(PixelFormatDetail &amp;formatDetail)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classandroid_1_1IRemoteDesktop.html#a82aa8e2b0f330e519ea9a03f8cf56831">android::IRemoteDesktop::getScreenPixelFormatInfo</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structandroid_1_1PixelFormatDetail.html">PixelFormatDetail</a> &amp;&#160;</td>
          <td class="paramname"><em>formatDetail</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get screen pixel format information. </p>
<p>Admin can use this API to get the pixel format detailed information. </p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  int w = 360, h = 640, format = PF_RGBA_8888;
  bool ret;</pre><pre>  ret = remoteDesktop-&gt;setScreenInfo(w,h,format);
  if(ret == false){
   // failure code
  }
  ret= remoteDesktop-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code
     <a class="el" href="structandroid_1_1PixelFormatDetail.html" title="This structure provides the pixel format information in terms of actual component offsets...">PixelFormatDetail</a> formatDetail;
     remoteDesktop-&gt;getScreenPixelFormatInfo(formatDetail);
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">formatDetail</td><td>Pixel Format Detail </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 4.0 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>
<dl class="user"><dt><b>PolicyID: </b></dt><dd>RCT-0005:RemoteControl Policy </dd></dl>

</div>
</div>
<a class="anchor" id="a5792cf8c7fa9eeb8e21f39927d0fed1e"></a><!-- doxytag: member="android::IRemoteDesktop::init" ref="a5792cf8c7fa9eeb8e21f39927d0fed1e" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e">android::IRemoteDesktop::init</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to initialize remote desktop session. </p>
<p>Admin can use this API to initialize the remote desktop session establishing the connection to the underneath capture mechanism.<br/>
 [NOTE] It is recommended to call 'setScreenInfo' method before calling 'init' method </p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *mRD = RemoteDesktop::getInstance();
	int w = 360, h = 640, format = PF_RGBA_8888;
  bool ret;</pre><pre>  ret = mRD -&gt;setScreenInfo(w,h,format);
  if(ret == false){
   // failure code
  }
  ret= mRD-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  { // failure due to either permission 
                      // denied or other initialization failures
     // failure code
  } else {
     // success code
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successfully initialised, else false. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 2.1 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#ad3727f82980e02999270c033e816b154" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a65c43b7be3fa4210a7e0176a0d928955"></a><!-- doxytag: member="android::IRemoteDesktop::setListener" ref="a65c43b7be3fa4210a7e0176a0d928955" args="(IRemoteDesktopListener *listener)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955">android::IRemoteDesktop::setListener</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classandroid_1_1IRemoteDesktopListener.html">IRemoteDesktopListener</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to register Screen Event listener. </p>
<p>Admin can use this API to get Screen Changed Event Callbacks from remote desktop module. </p>
<p>Example client call:</p>
<pre>
  class RemoteDesktopListener : public <a class="el" href="classandroid_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> {
      RemoteDesktopListener() {}
      virtual void screenChanged() {
	        LOGI("RemoteDesktopListener :: screenChanged()");
          // Capture Screen Request code
      }
  }</pre><pre>  ....</pre><pre>  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code	 
     <a class="el" href="classandroid_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> *remoteDesktoplistener = new RemoteDesktopListener();
     bool err = mRemoteDesktop-&gt;setListener(remoteDesktoplistener);
     if(err == false)  {
         // failure code
     } else {
         // success code
     }
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>Screen Change Event Listener </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if listener is successfully set, else false. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 2.1 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a5792cf8c7fa9eeb8e21f39927d0fed1e" title="API to initialize remote desktop session.">init()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#ad3727f82980e02999270c033e816b154" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>
<dl class="user"><dt><b>PolicyID: </b></dt><dd>RCT-0007:RemoteControl Policy </dd></dl>

</div>
</div>
<a class="anchor" id="ac0026eaa9da3215bfc418fbaa891ec0b"></a><!-- doxytag: member="android::IRemoteDesktop::setScreenInfo" ref="ac0026eaa9da3215bfc418fbaa891ec0b" args="(int prefW, int prefH, int prefFormat)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classandroid_1_1IRemoteDesktop.html#ac0026eaa9da3215bfc418fbaa891ec0b">android::IRemoteDesktop::setScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to set the framebuffer's width, height and format preferred by the admin. </p>
<p>Admin can use this API to set the preference for the remote screen dimensions considering the different factors like network bandwidth usage and performance. This may or may not be honoured based on the platform support. Mostly in case of FB0, this will not be honoured.<br/>
 [NOTE] It is recommended to call 'setScreenInfo' method before calling 'init' method.</p>
<p><b> [NOTE] From Android 5.0 on, Pixel Format PF_RGB_565 is not supported. </b> </p>
<p>Example client call:</p>
<pre>
  int w = 360, h = 640, format = PF_RGBA_8888;
  <a class="el" href="classandroid_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *mRD = RemoteDesktop::getInstance();
  bool ret = mRD-&gt;setScreenInfo(w,h,format);
  if(ret == false)  { // failure due to either permission 
                      // denied or other initialization failures
     // failure code
  } else {
     // success code
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "android.permission.sec.MDM_REMOTE_CONTROL" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prefW</td><td>Preferred Screen Width </td></tr>
    <tr><td class="paramname">prefH</td><td>Preferred Screen Height </td></tr>
    <tr><td class="paramname">prefFormat</td><td>Preferred Pixel Format</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if success, else false. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>MDM 4.0 </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classandroid_1_1IRemoteDesktop.html#a4686215ee98981d640bbc5ec100e42ca" title="Returns an instance of a RemoteDesktop client.">getInstance()</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#ad3727f82980e02999270c033e816b154" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a684fcd14561744487bbc0b74a1e11ddb" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#a65c43b7be3fa4210a7e0176a0d928955" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a> </dd>
<dd>
<a class="el" href="classandroid_1_1IRemoteDesktop.html#af777e36a552194cf99e603351259b568" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>remotecontrol/<a class="el" href="RemoteDesktop_8h_source.html">RemoteDesktop.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Samsung Electronics. SDK MDM5.9 - Fri Jul 14 2017 </small></address>

</body>
</html>
